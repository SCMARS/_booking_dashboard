# Vapi AI Integration Setup

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vapi –¥–ª—è –∑–≤–æ–Ω–∫–æ–≤

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

1. –í–æ–π–¥–∏—Ç–µ –≤ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç Vapi
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "API Keys"
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à **Private API Key** –∏ **Public API Key**
4. –ó–∞–ø–∏—à–∏—Ç–µ ID –≤–∞—à–µ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Vapi Configuration
VAPI_PRIVATE_KEY=455bbf66-6cd5-4f3e-ba7a-00c4977761d9
VAPI_PUBLIC_KEY=ea7c4170-a2cd-4b71-a37c-bf829fc2d0e6
VAPI_ASSISTANT_ID=c459fd1f-dcc7-4716-8dc8-e8c79ce5e319

# Webhook URL (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
VAPI_WEBHOOK_URL=http://localhost:8001/api/vapi/webhook

# –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω:
# VAPI_WEBHOOK_URL=https://your-domain.com/api/vapi/webhook
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook –≤ Vapi

1. –í –ø–∞–Ω–µ–ª–∏ Vapi –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webhook
2. –î–æ–±–∞–≤—å—Ç–µ URL: `https://your-domain.com/api/vapi/webhook`
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
   - call-started
   - call-ended
   - function-call
   - speech-update
   - transcript
   - message

### 4. API Endpoints

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ API endpoints:

#### `/api/vapi/call` (POST)
–°–æ–∑–¥–∞–Ω–∏–µ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞:
```json
{
  "phoneNumber": "+1234567890",
  "assistantId": "13b8bfd2-f6c0-4a78-9e85-d46744296327",
  "customer": {
    "number": "+1234567890"
  }
}
```

#### `/api/vapi/call` (GET)
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–≤–æ–Ω–∫–µ:
```
GET /api/vapi/call?callId=call-id-here
```

#### `/api/vapi/assistants` (GET)
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤

#### `/api/vapi/assistants` (POST)
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

#### `/api/vapi/webhook` (POST)
Webhook –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π –æ—Ç Vapi

### 5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –í–∏–¥–∂–µ—Ç Vapi
–í–∏–¥–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- –ì–æ–ª–æ—Å–æ–≤—ã–µ –∑–≤–æ–Ω–∫–∏
- –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏

#### –ö–Ω–æ–ø–∫–∞ –∑–≤–æ–Ω–∫–∞
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `CallButton` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –∑–≤–æ–Ω–∫–∏:
```tsx
<CallButton 
  phoneNumber="+1234567890" 
  assistantId="13b8bfd2-f6c0-4a78-9e85-d46744296327"
/>
```

### 6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- Private API Key –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- Public API Key –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–∏–¥–∂–µ—Ç–µ
- Webhook –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π

### 7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm run dev`
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API:
   - **Test Webhook** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å webhook endpoint
   - **Test Assistants API** - –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤
   - **Test Call API** - —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∑–≤–æ–Ω–∫–∞
5. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Start AI Call" –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–≤–æ–Ω–∫–æ–≤
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–µ—Ä–≤–µ—Ä–∞

### 8. –î–µ–ø–ª–æ–π

–ü—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ Vercel:
1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
2. –û–±–Ω–æ–≤–∏—Ç–µ VAPI_WEBHOOK_URL –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω
3. –û–±–Ω–æ–≤–∏—Ç–µ webhook URL –≤ –ø–∞–Ω–µ–ª–∏ Vapi

### 9. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

–í–∏–¥–∂–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 4 —è–∑—ã–∫–∞:
- üá∫üá∏ English
- üá∑üá∫ –†—É—Å—Å–∫–∏–π  
- üá≠üá∑ Hrvatski
- üá™üá∏ Espa√±ol

–¢–µ–∫—Å—Ç –≤–∏–¥–∂–µ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫.
